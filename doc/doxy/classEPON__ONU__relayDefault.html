<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EPONImplementationforOMNet++: EPON_ONU_relayDefault Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">EPONImplementationforOMNet++
   &#160;<span id="projectnumber">0.8Beta</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classEPON__ONU__relayDefault.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">EPON_ONU_relayDefault Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="EPON_ONU_relayDefault" -->
<p>The default relay way.  
 <a href="classEPON__ONU__relayDefault.html#details">More...</a></p>

<p><code>#include &lt;EPON_ONU_relayDefault.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EPON_ONU_relayDefault:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEPON__ONU__relayDefault.png" usemap="#EPON_ONU_relayDefault_map" alt=""/>
  <map id="EPON_ONU_relayDefault_map" name="EPON_ONU_relayDefault_map">
<area href="classEPON__ONU__vlanBridgeRelay.html" title="TODO - Generated class." alt="EPON_ONU_vlanBridgeRelay" shape="rect" coords="0,56,181,80"/>
</map>
 </div></div>

<p><a href="classEPON__ONU__relayDefault-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; uint16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#af9ceb3c9fbc599328c62400c1dc7bfd6">llidTable</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#affb634593050de9471e241a94fd628f4">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a8bb6e2cdaf8206736491df4afd5e00bb">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a8e57cd6ea75d82f645072ddd390c01d4">handleFromPON</a> (EtherFrame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a53348f4b44927d3bb7f2aa499b6d19b8">handleFromLAN</a> (EtherFrame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual cModule *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a5802048a5ec69478f6feda68f232c6a6">findModuleUp</a> (const char *name)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#ad2d189c63f46df8a117cd90b1a81f635">numProcessedFrames</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a147036c2fc86fa9807463f42f3bd2580">numDroppedFrames</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEPON__ONU__relayDefault.html#af9ceb3c9fbc599328c62400c1dc7bfd6">llidTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ServiceConfig_8h.html#aaf9dfd93fb9195bd4743e76b1a1ed879">SrvList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEPON__ONU__relayDefault.html#a6386d7b08092897232fc77ce03af677b">serviceList</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The default relay way. </p>
<p>As mentioned in the MACVlanRelayUnitBase this module is responsible for packet differentiation. The specific module is based on the destination MAC address and is going to forward the frame to all the known LLIDs. If the LLID is -1 (UNDEFINED) then the frame is going to be broadcasted. The same will happen if we do not know any LLID for that MAC address or if the ONU doesn't have any LLID assigned.</p>
<p>NOTE here that mapping to LLIDs could be done with various ways based on the VLAN or on the DSCP in the IP header or even per-port or pre-defined per destination. Depending on the scenario, someone can extend the MACVlanRelayUnitBase and change the relay's behavior. </p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="af9ceb3c9fbc599328c62400c1dc7bfd6"></a><!-- doxytag: member="EPON_ONU_relayDefault::llidTable" ref="af9ceb3c9fbc599328c62400c1dc7bfd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;uint16_t&gt; <a class="el" href="classEPON__ONU__relayDefault.html#af9ceb3c9fbc599328c62400c1dc7bfd6">EPON_ONU_relayDefault::llidTable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5802048a5ec69478f6feda68f232c6a6"></a><!-- doxytag: member="EPON_ONU_relayDefault::findModuleUp" ref="a5802048a5ec69478f6feda68f232c6a6" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule * <a class="el" href="classEPON__ONU__relayDefault.html#a5802048a5ec69478f6feda68f232c6a6">EPON_ONU_relayDefault::findModuleUp</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                              {
      cModule *mod = NULL;
      <span class="keywordflow">for</span> (cModule *curmod=<span class="keyword">this</span>; !mod &amp;&amp; curmod; curmod=curmod-&gt;getParentModule())
           mod = curmod-&gt;getSubmodule(name);
      <span class="keywordflow">return</span> mod;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a53348f4b44927d3bb7f2aa499b6d19b8"></a><!-- doxytag: member="EPON_ONU_relayDefault::handleFromLAN" ref="a53348f4b44927d3bb7f2aa499b6d19b8" args="(EtherFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEPON__ONU__relayDefault.html#a53348f4b44927d3bb7f2aa499b6d19b8">EPON_ONU_relayDefault::handleFromLAN</a> </td>
          <td>(</td>
          <td class="paramtype">EtherFrame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>6-Feb-2011: Do NOT BC... send to the default LLiD</p>

<p>Reimplemented in <a class="el" href="classEPON__ONU__vlanBridgeRelay.html#a9c934510abb2ac888f2da7ae8bbaf000">EPON_ONU_vlanBridgeRelay</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
      updateTableFromFrame(frame);

      mac_llid ml;

      ml.mac = frame-&gt;getDest();
      <span class="comment">// Check table ... if port is the same as incoming drop</span>
      std::string port = getPortForAddress(ml);
      <span class="keywordflow">if</span> (port == <span class="stringliteral">&quot;ethOut&quot;</span>) {
            <span class="keyword">delete</span> frame;
            <span class="keywordflow">return</span>;
      }


      <span class="comment">// Do MAPINGS HERE (vlan or anything other to LLID)</span>
      <span class="comment">// currently use the default</span>

      <span class="comment">/*</span>
<span class="comment">       *  NOTE: The following code works... but is logically wrong.</span>
<span class="comment">       *  It is based on the EtherSwitch code... but we don&#39;t have</span>
<span class="comment">       *  multiple Ethernet (copper) interfaces yet (Increases complexity)</span>
<span class="comment">       *</span>
<span class="comment">       *  On extended versions you could only bridge vlan &lt;-&gt; llid.</span>
<span class="comment">       *  (vlan zero (0) -&gt; Default)</span>
<span class="comment">       */</span>


      <span class="comment">// If we don&#39;t have any llid, drop</span>
      <span class="keywordflow">if</span> (<a class="code" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a>.size() == 0 ){
            EV &lt;&lt; <span class="stringliteral">&quot;No LLiD Assigned, droping frame&quot;</span>&lt;&lt;frame&lt;&lt;endl;
            <span class="keyword">delete</span> frame;
            <span class="keywordflow">return</span>;
      }
      <span class="comment">// If we have 1 llid, sent through there</span>
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a>.size() == 1 ){
            frame-&gt;setControlInfo(<span class="keyword">new</span> <a class="code" href="classEPON__LLidCtrlInfo.html" title="EPON_LLidCtrlInfo extends cObject and is used for ControlInfo carried in the messages.">EPON_LLidCtrlInfo</a>(<a class="code" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a>[0]) );
            send(frame, <span class="stringliteral">&quot;toPONout&quot;</span>);
            <span class="keywordflow">return</span>;
      }
      <span class="comment">// We have more than 1 assigned LLiDs</span>
      <span class="keywordflow">else</span> {
            std::vector&lt;port_llid&gt; vec = getLLIDsForAddress(frame-&gt;getDest());

            <span class="keywordflow">if</span> (vec.size()!=0){
                  <span class="comment">// Send to the known llids only</span>
                  <span class="keywordflow">for</span> (uint32_t i = 0; i&lt;vec.size(); i++){
                        EtherFrame *frame_tmp = frame-&gt;dup();

                        <span class="comment">// Get this llid and this port, duplicate and send</span>
                        port_llid tmp_pl = (port_llid)vec[i];
                        <span class="comment">// If we don&#39;t know ... lets BC</span>
                        <span class="keywordflow">if</span> (tmp_pl.llid == -1) tmp_pl.llid = <a class="code" href="EPON__CtrlInfo_8h.html#a9c30e6b907d649b65497274b020a3537">LLID_EPON_BC</a>;
                        frame_tmp-&gt;setControlInfo(<span class="keyword">new</span> <a class="code" href="classEPON__LLidCtrlInfo.html" title="EPON_LLidCtrlInfo extends cObject and is used for ControlInfo carried in the messages.">EPON_LLidCtrlInfo</a>(tmp_pl.llid) );
                        send(frame_tmp, tmp_pl.port.c_str());

                        <span class="comment">// If BC, we break;</span>
                        <span class="keywordflow">if</span> (tmp_pl.llid == <a class="code" href="EPON__CtrlInfo_8h.html#a9c30e6b907d649b65497274b020a3537">LLID_EPON_BC</a>) <span class="keywordflow">break</span>;
                  }
            }<span class="keywordflow">else</span>{
                  <span class="comment">// DO NOT Send to all the llids assigned</span>
                  <span class="comment">//          for (uint32_t i=0; i&lt;llids.size(); i++){</span>
                  <span class="comment">//                EtherFrame *frame_tmp = frame-&gt;dup();</span>
                  <span class="comment">//</span>
                  <span class="comment">//                // Get this llid and this port, duplicate and send</span>
                  <span class="comment">//                frame_tmp-&gt;setControlInfo(new EPON_LLidCtrlInfo(llids[i]) );</span>
                  <span class="comment">//                send(frame_tmp, &quot;toPONout&quot;);</span>
                  <span class="comment">//          }</span>
                  <span class="comment">// INSTEAD BROADCAST IT...</span>
                  <span class="comment">// ENABLE THE ABOVE TO TEST PON (Generates X-times more traffic)</span>

                  EtherFrame *frame_tmp = frame-&gt;dup();

                  <span class="comment">// Get this llid and this port, duplicate and send</span>
                  <span class="comment">//frame_tmp-&gt;setControlInfo(new EPON_LLidCtrlInfo(LLID_EPON_BC) );</span>
                  send(frame_tmp, <span class="stringliteral">&quot;toPONout&quot;</span>);


                  <span class="comment">// TODO: Normally it would be sent only to the</span>
                  <span class="comment">// LLID bridged with the vlan that the source host</span>
                  <span class="comment">// belongs. OR alternatively traffic can be differentiated</span>
                  <span class="comment">// on the network layer</span>

            }
      }


      <span class="comment">// delete the original frame</span>
      <span class="keyword">delete</span> frame;


}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e57cd6ea75d82f645072ddd390c01d4"></a><!-- doxytag: member="EPON_ONU_relayDefault::handleFromPON" ref="a8e57cd6ea75d82f645072ddd390c01d4" args="(EtherFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEPON__ONU__relayDefault.html#a8e57cd6ea75d82f645072ddd390c01d4">EPON_ONU_relayDefault::handleFromPON</a> </td>
          <td>(</td>
          <td class="paramtype">EtherFrame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                          {
      mac_llid ml;
      ml.mac = frame-&gt;getSrc();
      ml.llid = -1;

      <span class="comment">//Check frame preamble (dist between ONUs ONLY)</span>
      <a class="code" href="classEPON__LLidCtrlInfo.html" title="EPON_LLidCtrlInfo extends cObject and is used for ControlInfo carried in the messages.">EPON_LLidCtrlInfo</a> * nfo = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classEPON__LLidCtrlInfo.html" title="EPON_LLidCtrlInfo extends cObject and is used for ControlInfo carried in the messages.">EPON_LLidCtrlInfo</a> *<span class="keyword">&gt;</span>(frame-&gt;removeControlInfo());
      <span class="keywordflow">if</span> (nfo!=NULL){
            <span class="keywordflow">if</span> (nfo-&gt;<a class="code" href="classEPON__LLidCtrlInfo.html#a22816820608cef4293a7c296d3de8734">llid</a> != <a class="code" href="EPON__CtrlInfo_8h.html#a9c30e6b907d649b65497274b020a3537">LLID_EPON_BC</a>) ml.<a class="code" href="classEPON__LLidCtrlInfo.html#a22816820608cef4293a7c296d3de8734">llid</a> = nfo-&gt;<a class="code" href="classEPON__LLidCtrlInfo.html#a22816820608cef4293a7c296d3de8734">llid</a>;
      }
      updateTableWithAddress(ml, <span class="stringliteral">&quot;toPONout&quot;</span>);

      <span class="comment">// If it is a register update the LLIDs table</span>
      <a class="code" href="classMPCPRegister.html" title="Class generated from common/EPON_messages.msg by opp_msgc.">MPCPRegister</a> * reg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classMPCPRegister.html" title="Class generated from common/EPON_messages.msg by opp_msgc.">MPCPRegister</a> *<span class="keyword">&gt;</span>(frame);
      <span class="keywordflow">if</span> (reg){
            <span class="comment">//EV&lt;&lt; &quot;Assigned LLIDs:&quot; &lt;&lt;LLID_num&lt;&lt;endl;</span>
            <span class="keywordflow">for</span> (uint8_t i=0; i&lt;reg-&gt;<a class="code" href="classMPCPRegister.html#a0ea03ed1bbd76d6ad76fae492b5712ee">getLLIDsArraySize</a>(); i++){
                  <span class="comment">// 0xFFF = 4095 intrand -&gt; [0-4095)</span>
                  <a class="code" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a>.push_back(reg-&gt;<a class="code" href="classMPCPRegister.html#af0121bd6e8823754e944615d64c25298">getLLIDs</a>(i));
            }

            <span class="comment">// Do not forward further</span>
            <span class="keyword">delete</span> frame;
            <span class="keywordflow">return</span>;
      }

      <span class="comment">// We do not need to scan the table since we still</span>
      <span class="comment">// have no vlans. Each ONU is considered to be a different</span>
      <span class="comment">// net (subnet) so the frame must go directly to wire.</span>
      send(frame, <span class="stringliteral">&quot;ethOut&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8bb6e2cdaf8206736491df4afd5e00bb"></a><!-- doxytag: member="EPON_ONU_relayDefault::handleMessage" ref="a8bb6e2cdaf8206736491df4afd5e00bb" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEPON__ONU__relayDefault.html#a8bb6e2cdaf8206736491df4afd5e00bb">EPON_ONU_relayDefault::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{

      <span class="comment">// Self Message</span>
      <span class="keywordflow">if</span> (msg-&gt;isSelfMessage())
      {
            EV &lt;&lt; <span class="stringliteral">&quot;Self-message &quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot; received\n&quot;</span>;
            error(<span class="stringliteral">&quot;Unknown self message received!&quot;</span>);
            <span class="keywordflow">return</span>;
      }

      <span class="comment">// Network Message</span>
      cGate *ingate = msg-&gt;getArrivalGate();
      EV &lt;&lt; <span class="stringliteral">&quot;Frame &quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot; arrived on port &quot;</span> &lt;&lt; ingate-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>;

      EtherFrame *frame = check_and_cast&lt;EtherFrame *&gt;(msg);

      <span class="keywordflow">if</span> (ingate-&gt;getId() ==  gate( <span class="stringliteral">&quot;toPONin&quot;</span>)-&gt;getId()){
            <a class="code" href="classEPON__ONU__relayDefault.html#a8e57cd6ea75d82f645072ddd390c01d4">handleFromPON</a>(frame);
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ingate-&gt;getId() ==  gate( <span class="stringliteral">&quot;ethIn&quot;</span>)-&gt;getId()){
            <a class="code" href="classEPON__ONU__relayDefault.html#a53348f4b44927d3bb7f2aa499b6d19b8">handleFromLAN</a>(frame);
      }
      <span class="keywordflow">else</span>{
            EV &lt;&lt; <span class="stringliteral">&quot;Message received in UNKNOWN PORT\n&quot;</span>;
            <span class="keywordflow">return</span>;
      }

}
</pre></div>
</div>
</div>
<a class="anchor" id="affb634593050de9471e241a94fd628f4"></a><!-- doxytag: member="EPON_ONU_relayDefault::initialize" ref="affb634593050de9471e241a94fd628f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEPON__ONU__relayDefault.html#affb634593050de9471e241a94fd628f4">EPON_ONU_relayDefault::initialize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classEPON__ONU__vlanBridgeRelay.html#ab91253a6930e23ae753f6d052151b628">EPON_ONU_vlanBridgeRelay</a>.</p>
<div class="fragment"><pre class="fragment">{
      <a class="code" href="classEPON__ONU__relayDefault.html#affb634593050de9471e241a94fd628f4">MACVlanRelayUnitBase::initialize</a>();

      <span class="keywordflow">if</span> (dynamic_cast&lt;ServiceConfig *&gt;( <a class="code" href="classEPON__ONU__relayDefault.html#a5802048a5ec69478f6feda68f232c6a6">findModuleUp</a>(<span class="stringliteral">&quot;serviceConfig&quot;</span>)) != NULL){
            <a class="code" href="classEPON__ONU__relayDefault.html#a6386d7b08092897232fc77ce03af677b">serviceList</a> = &amp;(<span class="keyword">dynamic_cast&lt;</span><a class="code" href="classServiceConfig.html" title="A simple module to configure all the services in a scenario and their parameters.">ServiceConfig</a> *<span class="keyword">&gt;</span>( <a class="code" href="classEPON__ONU__relayDefault.html#a5802048a5ec69478f6feda68f232c6a6">findModuleUp</a>(<span class="stringliteral">&quot;serviceConfig&quot;</span>))-&gt;srvs);
      }

      <a class="code" href="classEPON__ONU__relayDefault.html#ad2d189c63f46df8a117cd90b1a81f635">numProcessedFrames</a> = <a class="code" href="classEPON__ONU__relayDefault.html#a147036c2fc86fa9807463f42f3bd2580">numDroppedFrames</a> = 0;
      WATCH(<a class="code" href="classEPON__ONU__relayDefault.html#ad2d189c63f46df8a117cd90b1a81f635">numProcessedFrames</a>);
      WATCH(<a class="code" href="classEPON__ONU__relayDefault.html#a147036c2fc86fa9807463f42f3bd2580">numDroppedFrames</a>);
      WATCH_VECTOR(<a class="code" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">llids</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aae0d3ca26beadfff639349744be21396"></a><!-- doxytag: member="EPON_ONU_relayDefault::llids" ref="aae0d3ca26beadfff639349744be21396" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEPON__ONU__relayDefault.html#af9ceb3c9fbc599328c62400c1dc7bfd6">llidTable</a> <a class="el" href="classEPON__ONU__relayDefault.html#aae0d3ca26beadfff639349744be21396">EPON_ONU_relayDefault::llids</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a147036c2fc86fa9807463f42f3bd2580"></a><!-- doxytag: member="EPON_ONU_relayDefault::numDroppedFrames" ref="a147036c2fc86fa9807463f42f3bd2580" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classEPON__ONU__relayDefault.html#a147036c2fc86fa9807463f42f3bd2580">EPON_ONU_relayDefault::numDroppedFrames</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2d189c63f46df8a117cd90b1a81f635"></a><!-- doxytag: member="EPON_ONU_relayDefault::numProcessedFrames" ref="ad2d189c63f46df8a117cd90b1a81f635" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classEPON__ONU__relayDefault.html#ad2d189c63f46df8a117cd90b1a81f635">EPON_ONU_relayDefault::numProcessedFrames</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6386d7b08092897232fc77ce03af677b"></a><!-- doxytag: member="EPON_ONU_relayDefault::serviceList" ref="a6386d7b08092897232fc77ce03af677b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ServiceConfig_8h.html#aaf9dfd93fb9195bd4743e76b1a1ed879">SrvList</a>* <a class="el" href="classEPON__ONU__relayDefault.html#a6386d7b08092897232fc77ce03af677b">EPON_ONU_relayDefault::serviceList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="EPON__ONU__relayDefault_8h.html">EPON_ONU_relayDefault.h</a></li>
<li><a class="el" href="EPON__ONU__relayDefault_8cc.html">EPON_ONU_relayDefault.cc</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classEPON__ONU__relayDefault.html">EPON_ONU_relayDefault</a>      </li>

    <li class="footer">Generated on Wed Oct 31 2012 20:10:48 for EPONImplementationforOMNet++ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
