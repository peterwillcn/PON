<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EPONImplementationforOMNet++: CopyableQueueCVectors Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">EPONImplementationforOMNet++
   &#160;<span id="projectnumber">0.8Beta</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classCopyableQueueCVectors.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CopyableQueueCVectors Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="CopyableQueueCVectors" -->
<p>This class hold pointers to cOutVectors.  
 <a href="classCopyableQueueCVectors.html#details">More...</a></p>

<p><code>#include &lt;CopyableQueueCVectors.h&gt;</code></p>

<p><a href="classCopyableQueueCVectors-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#aa63001f43cf4e0c2f598643fa0c0bd94">CopyableQueueCVectors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#ad2992e65bd0a45980647fe4acf625eaf">~CopyableQueueCVectors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#af1a1f27e99becf135980d7d05a6d0923">recordVectors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a9f9c0eaf94c1a8186b4f8a7f73e2a23b">setVectorNames</a> (std::string name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a9f332c667608b1c1552358ab00f049b3">deleteVectors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a6e2f825d0f9a0136c4ed93c0172d11d2">getGranularity</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a6cb95d6b8f5a6d4bc6f6e0d530d6f7a1">setGranularity</a> (double gran)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a9200be8ea1c3d236e1e77b074a41c6fc">getIncomingBPS</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return INSTANT incoming rate from the previous update till now (bits).  <a href="#a9200be8ea1c3d236e1e77b074a41c6fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a1bb7b4a42f47d38e885073f588500ab6">getLastSecIncomingBPS</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the previous second incoming Rate (bits)  <a href="#a1bb7b4a42f47d38e885073f588500ab6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">numBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">numBytesDropped</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">numFramesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5">numIncomingBitsOld</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Runtime Statistics.  <a href="#afaa5c7f0132defe0c37b0872475b2fd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">numBytesDroppedVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">numFramesSentVector</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a974031471a5f281132ae2fc9abda6cbc">numBytesSentPrev</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76">granularity</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time window in which to count /second variables.  <a href="#a22724ebf3353de4d7ff5515cfa6a5b76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#ac1195d60dedf7996d5627f408bc52f53">numBytesSent_old</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to minimize logging...  <a href="#ac1195d60dedf7996d5627f408bc52f53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a68bbe81e459d977f8ad9c0981e0395c3">numBytesDropped_old</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCopyableQueueCVectors.html#a679f3460b6233b063f09203d0b602781">numFramesSent_old</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class hold pointers to cOutVectors. </p>
<p>This way it can be copied by the default copy constructor.</p>
<p>The drawback is that WE CANNOT DELETE/FREE memory in the destructor. The only "safe" way to free, is in the module/class that uses a <a class="el" href="classCopyableQueueCVectors.html" title="This class hold pointers to cOutVectors.">CopyableQueueCVectors</a> instance. Thus the container object MUST call <a class="el" href="classCopyableQueueCVectors.html#a9f332c667608b1c1552358ab00f049b3">deleteVectors()</a> at some point. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa63001f43cf4e0c2f598643fa0c0bd94"></a><!-- doxytag: member="CopyableQueueCVectors::CopyableQueueCVectors" ref="aa63001f43cf4e0c2f598643fa0c0bd94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCopyableQueueCVectors.html#aa63001f43cf4e0c2f598643fa0c0bd94">CopyableQueueCVectors::CopyableQueueCVectors</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                             {
      <a class="code" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a> = <span class="keyword">new</span> cOutVector();
      <a class="code" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">numBytesDroppedVector</a> = <span class="keyword">new</span> cOutVector();
      <a class="code" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">numFramesSentVector</a> = <span class="keyword">new</span> cOutVector();
      <a class="code" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">numBytesSent</a> = 0;
      <a class="code" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">numBytesDropped</a> = 0;
      <a class="code" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">numFramesSent</a> = 0;
      <a class="code" href="classCopyableQueueCVectors.html#ac1195d60dedf7996d5627f408bc52f53" title="Try to minimize logging...">numBytesSent_old</a> = 0;
      <a class="code" href="classCopyableQueueCVectors.html#a68bbe81e459d977f8ad9c0981e0395c3">numBytesDropped_old</a> = 0;
      <a class="code" href="classCopyableQueueCVectors.html#a679f3460b6233b063f09203d0b602781">numFramesSent_old</a> = 0;



      <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a> = simTime();
      <a class="code" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76" title="Time window in which to count /second variables.">granularity</a>=1;
      <a class="code" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a> = <a class="code" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5" title="Runtime Statistics.">numIncomingBitsOld</a> = <a class="code" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a> = 0;

}
</pre></div>
</div>
</div>
<a class="anchor" id="ad2992e65bd0a45980647fe4acf625eaf"></a><!-- doxytag: member="CopyableQueueCVectors::~CopyableQueueCVectors" ref="ad2992e65bd0a45980647fe4acf625eaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCopyableQueueCVectors.html#ad2992e65bd0a45980647fe4acf625eaf">CopyableQueueCVectors::~CopyableQueueCVectors</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                              {
      <span class="comment">// NOTE: DO NOT DELETE cOutVectors ...</span>
      <span class="comment">// This is called when you add a queue to</span>
      <span class="comment">// a vector.</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9f332c667608b1c1552358ab00f049b3"></a><!-- doxytag: member="CopyableQueueCVectors::deleteVectors" ref="a9f332c667608b1c1552358ab00f049b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCopyableQueueCVectors.html#a9f332c667608b1c1552358ab00f049b3">CopyableQueueCVectors::deleteVectors</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                         {
      <span class="keyword">delete</span> <a class="code" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a>;
      <span class="keyword">delete</span> <a class="code" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">numBytesDroppedVector</a>;
      <span class="keyword">delete</span> <a class="code" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">numFramesSentVector</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6e2f825d0f9a0136c4ed93c0172d11d2"></a><!-- doxytag: member="CopyableQueueCVectors::getGranularity" ref="a6e2f825d0f9a0136c4ed93c0172d11d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classCopyableQueueCVectors.html#a6e2f825d0f9a0136c4ed93c0172d11d2">CopyableQueueCVectors::getGranularity</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                            {
      <span class="keywordflow">return</span> <a class="code" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76" title="Time window in which to count /second variables.">granularity</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9200be8ea1c3d236e1e77b074a41c6fc"></a><!-- doxytag: member="CopyableQueueCVectors::getIncomingBPS" ref="a9200be8ea1c3d236e1e77b074a41c6fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a9200be8ea1c3d236e1e77b074a41c6fc">CopyableQueueCVectors::getIncomingBPS</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return INSTANT incoming rate from the previous update till now (bits). </p>
<div class="fragment"><pre class="fragment">                                                   {
      <span class="comment">// No traffic for the last second</span>
      <span class="keywordflow">if</span> (simTime() - <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a> &gt; <a class="code" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76" title="Time window in which to count /second variables.">granularity</a>)
            <span class="keywordflow">return</span> 0;

      <span class="keywordflow">if</span> (simTime().raw() &gt; <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a>.raw())
            <span class="keywordflow">return</span> (<a class="code" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a> - <a class="code" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5" title="Runtime Statistics.">numIncomingBitsOld</a>)/(simTime() - <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a>);
      <span class="keywordflow">else</span>
            <span class="keywordflow">return</span> <a class="code" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a>;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a1bb7b4a42f47d38e885073f588500ab6"></a><!-- doxytag: member="CopyableQueueCVectors::getLastSecIncomingBPS" ref="a1bb7b4a42f47d38e885073f588500ab6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a1bb7b4a42f47d38e885073f588500ab6">CopyableQueueCVectors::getLastSecIncomingBPS</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the previous second incoming Rate (bits) </p>
<div class="fragment"><pre class="fragment">                                                          {
      <span class="keywordflow">return</span> <a class="code" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af1a1f27e99becf135980d7d05a6d0923"></a><!-- doxytag: member="CopyableQueueCVectors::recordVectors" ref="af1a1f27e99becf135980d7d05a6d0923" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCopyableQueueCVectors.html#af1a1f27e99becf135980d7d05a6d0923">CopyableQueueCVectors::recordVectors</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>WARNING 0/0 = UNEXPECTED FUCKIN RESULT (OVERFLOWS STH)</p>
<div class="fragment"><pre class="fragment">                                         {
      <span class="keywordflow">if</span> (<a class="code" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">numBytesSent</a>!=<a class="code" href="classCopyableQueueCVectors.html#ac1195d60dedf7996d5627f408bc52f53" title="Try to minimize logging...">numBytesSent_old</a>)
            <a class="code" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a>-&gt;record(<a class="code" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">numBytesSent</a>);
      <span class="keywordflow">if</span> (<a class="code" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">numBytesDropped</a>!=<a class="code" href="classCopyableQueueCVectors.html#a68bbe81e459d977f8ad9c0981e0395c3">numBytesDropped_old</a>)
            <a class="code" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">numBytesDroppedVector</a>-&gt;record(<a class="code" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">numBytesDropped</a>);
      <span class="keywordflow">if</span> (<a class="code" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">numFramesSent</a>!=<a class="code" href="classCopyableQueueCVectors.html#a679f3460b6233b063f09203d0b602781">numFramesSent_old</a>)
            <a class="code" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">numFramesSentVector</a>-&gt;record(<a class="code" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">numFramesSent</a>);

      <a class="code" href="classCopyableQueueCVectors.html#ac1195d60dedf7996d5627f408bc52f53" title="Try to minimize logging...">numBytesSent_old</a>=<a class="code" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">numBytesSent</a>;
      <a class="code" href="classCopyableQueueCVectors.html#a68bbe81e459d977f8ad9c0981e0395c3">numBytesDropped_old</a>=<a class="code" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">numBytesDropped</a>;
      <a class="code" href="classCopyableQueueCVectors.html#a679f3460b6233b063f09203d0b602781">numFramesSent_old</a>=<a class="code" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">numFramesSent</a>;

      <span class="comment">/*</span>
<span class="comment">       In order to dynamically change the in queue size...</span>
<span class="comment">       (we can log incoming Frame Rate)</span>
<span class="comment">       Although I m not a Q expert...</span>
<span class="comment">       http://www.opalsoft.net/qos/DS.htm explains much more</span>
<span class="comment">       sophisticated queue types.</span>
<span class="comment">       */</span>
      <span class="comment">/*</span>
<span class="comment">       Hold stats per second</span>
<span class="comment">       NOTE:      5x 10x and so on granularity can be implemented</span>
<span class="comment">                  if needed. (OLT and general the DBA algorithm can</span>
<span class="comment">                  internally do this)</span>
<span class="comment">       */</span>

      <span class="keywordflow">if</span> (<a class="code" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a> - <a class="code" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5" title="Runtime Statistics.">numIncomingBitsOld</a> != 0 &amp;&amp; simTime().raw() != <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a>.raw())
            <a class="code" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a> = (<a class="code" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a> - <a class="code" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5" title="Runtime Statistics.">numIncomingBitsOld</a>)/(simTime() - <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a>);

      <span class="comment">// INCOMMING</span>
      <span class="keywordflow">if</span> (simTime() - <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a> &gt;= <a class="code" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76" title="Time window in which to count /second variables.">granularity</a>){
            <a class="code" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">lastUpdateTime</a> = simTime();
            <a class="code" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5" title="Runtime Statistics.">numIncomingBitsOld</a> = <a class="code" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">numIncomingBits</a>;
            <a class="code" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">incomingBPS</a> = 0;
      }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6cb95d6b8f5a6d4bc6f6e0d530d6f7a1"></a><!-- doxytag: member="CopyableQueueCVectors::setGranularity" ref="a6cb95d6b8f5a6d4bc6f6e0d530d6f7a1" args="(double gran)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCopyableQueueCVectors.html#a6cb95d6b8f5a6d4bc6f6e0d530d6f7a1">CopyableQueueCVectors::setGranularity</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gran</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                     {
      <a class="code" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76" title="Time window in which to count /second variables.">granularity</a> = gran;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9f9c0eaf94c1a8186b4f8a7f73e2a23b"></a><!-- doxytag: member="CopyableQueueCVectors::setVectorNames" ref="a9f9c0eaf94c1a8186b4f8a7f73e2a23b" args="(std::string name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCopyableQueueCVectors.html#a9f9c0eaf94c1a8186b4f8a7f73e2a23b">CopyableQueueCVectors::setVectorNames</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                        {
      std::string tmp_name;
      tmp_name = name + <span class="stringliteral">&quot; bytesSent&quot;</span>;
      <a class="code" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a>-&gt;setName(tmp_name.c_str());
      <a class="code" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">numBytesSentVector</a>-&gt;setInterpolationMode(cOutVector::LINEAR);

      tmp_name = name + <span class="stringliteral">&quot; bytesDropped&quot;</span>;
      <a class="code" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">numBytesDroppedVector</a>-&gt;setName(tmp_name.c_str());
      tmp_name = name + <span class="stringliteral">&quot; framesSent&quot;</span>;
      <a class="code" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">numFramesSentVector</a>-&gt;setName(tmp_name.c_str());
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a22724ebf3353de4d7ff5515cfa6a5b76"></a><!-- doxytag: member="CopyableQueueCVectors::granularity" ref="a22724ebf3353de4d7ff5515cfa6a5b76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classCopyableQueueCVectors.html#a22724ebf3353de4d7ff5515cfa6a5b76">CopyableQueueCVectors::granularity</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Time window in which to count /second variables. </p>

</div>
</div>
<a class="anchor" id="a201d9d36c3c7863d94cc99790fcc289a"></a><!-- doxytag: member="CopyableQueueCVectors::incomingBPS" ref="a201d9d36c3c7863d94cc99790fcc289a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classCopyableQueueCVectors.html#a201d9d36c3c7863d94cc99790fcc289a">CopyableQueueCVectors::incomingBPS</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a019d7c68d246e8710e3cbd5c0a53e32f"></a><!-- doxytag: member="CopyableQueueCVectors::lastUpdateTime" ref="a019d7c68d246e8710e3cbd5c0a53e32f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classCopyableQueueCVectors.html#a019d7c68d246e8710e3cbd5c0a53e32f">CopyableQueueCVectors::lastUpdateTime</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a79ad514f7de0d662d677da0b7f7576"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesDropped" ref="a3a79ad514f7de0d662d677da0b7f7576" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a3a79ad514f7de0d662d677da0b7f7576">CopyableQueueCVectors::numBytesDropped</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a68bbe81e459d977f8ad9c0981e0395c3"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesDropped_old" ref="a68bbe81e459d977f8ad9c0981e0395c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a68bbe81e459d977f8ad9c0981e0395c3">CopyableQueueCVectors::numBytesDropped_old</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a66296eb5f5cb630a5438a3f4c12bc192"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesDroppedVector" ref="a66296eb5f5cb630a5438a3f4c12bc192" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classCopyableQueueCVectors.html#a66296eb5f5cb630a5438a3f4c12bc192">CopyableQueueCVectors::numBytesDroppedVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4be048abc2ea7570c16e15265cc80f90"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesSent" ref="a4be048abc2ea7570c16e15265cc80f90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a4be048abc2ea7570c16e15265cc80f90">CopyableQueueCVectors::numBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1195d60dedf7996d5627f408bc52f53"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesSent_old" ref="ac1195d60dedf7996d5627f408bc52f53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#ac1195d60dedf7996d5627f408bc52f53">CopyableQueueCVectors::numBytesSent_old</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to minimize logging... </p>

</div>
</div>
<a class="anchor" id="a974031471a5f281132ae2fc9abda6cbc"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesSentPrev" ref="a974031471a5f281132ae2fc9abda6cbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a974031471a5f281132ae2fc9abda6cbc">CopyableQueueCVectors::numBytesSentPrev</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2c0b0847a2b78553cd1a7e301245f931"></a><!-- doxytag: member="CopyableQueueCVectors::numBytesSentVector" ref="a2c0b0847a2b78553cd1a7e301245f931" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classCopyableQueueCVectors.html#a2c0b0847a2b78553cd1a7e301245f931">CopyableQueueCVectors::numBytesSentVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8274e0ff0885def66517a16cf064758e"></a><!-- doxytag: member="CopyableQueueCVectors::numFramesSent" ref="a8274e0ff0885def66517a16cf064758e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a8274e0ff0885def66517a16cf064758e">CopyableQueueCVectors::numFramesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a679f3460b6233b063f09203d0b602781"></a><!-- doxytag: member="CopyableQueueCVectors::numFramesSent_old" ref="a679f3460b6233b063f09203d0b602781" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classCopyableQueueCVectors.html#a679f3460b6233b063f09203d0b602781">CopyableQueueCVectors::numFramesSent_old</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a627bb0580322cb4e776ee4e244408d21"></a><!-- doxytag: member="CopyableQueueCVectors::numFramesSentVector" ref="a627bb0580322cb4e776ee4e244408d21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classCopyableQueueCVectors.html#a627bb0580322cb4e776ee4e244408d21">CopyableQueueCVectors::numFramesSentVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a73e12a6f97da564f3be71fcc7d273407"></a><!-- doxytag: member="CopyableQueueCVectors::numIncomingBits" ref="a73e12a6f97da564f3be71fcc7d273407" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classCopyableQueueCVectors.html#a73e12a6f97da564f3be71fcc7d273407">CopyableQueueCVectors::numIncomingBits</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afaa5c7f0132defe0c37b0872475b2fd5"></a><!-- doxytag: member="CopyableQueueCVectors::numIncomingBitsOld" ref="afaa5c7f0132defe0c37b0872475b2fd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classCopyableQueueCVectors.html#afaa5c7f0132defe0c37b0872475b2fd5">CopyableQueueCVectors::numIncomingBitsOld</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Runtime Statistics. </p>
<p>These are not going to be logged to cOutVectors since analysis can be done finally. But we need them for DBAs.</p>
<p>NOTE: The real way** should be to log drop rate (DoR) and data rate (DaR), then: DoR + DaR = REQUESTED_DATARATE.</p>
<p>What we do is logging IncommingRate (IR) or else REQUESTED_DATARATE thus: IR - DaR = DoR</p>
<p>** By "real way" we mean what we HAVE SEEN on real network hardware. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CopyableQueueCVectors_8h.html">CopyableQueueCVectors.h</a></li>
<li><a class="el" href="CopyableQueueCVectors_8cc.html">CopyableQueueCVectors.cc</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classCopyableQueueCVectors.html">CopyableQueueCVectors</a>      </li>

    <li class="footer">Generated on Wed Oct 31 2012 20:10:48 for EPONImplementationforOMNet++ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
